import os
import copy
from Config import confs
from Config import Config

confs["vae"] = Config()
confs["vae"].model_kind                    = "VAERNN"
confs["vae"].learning_rate_decay_factor    = 1.0 
confs["vae"].learning_rate                 = 0.0001
confs["vae"].input_vocab_size              = 60000
confs["vae"].output_vocab_size             = 60000
confs["vae"].batch_size                    = 128 
confs["vae"].opt_name                      = "Adam" 
confs["vae"].max_to_keep                   = 10
confs["vae"].input_max_len                 = 35
confs["vae"].output_max_len                = 35
confs["vae"].num_layers                    = 4 
confs["vae"].num_units                     = 1024
confs["vae"].out_layer_size                = None
confs["vae"].embedding_init                = None 
confs["vae"].embedding_size                = 150
confs["vae"].cell_model                    = "GRUCell"
confs["vae"].output_keep_prob              = 1.0 
confs["vae"].num_samples                   = 512 
confs["vae"].enc_reverse                   = False 
confs["vae"].bidirectional                 = False 
confs["vae"].beam_splits                   = [1] 
confs["vae"].tokenize_mode                 = "char" 

confs["vaeattn-opensubtitle_gt3"] = copy.deepcopy(confs["vae"])
confs["vaeattn-opensubtitle_gt3"].model_kind           = "VAEattnRNN"
confs["vaeattn-opensubtitle_gt3"].input_vocab_size     = 20000
confs["vaeattn-opensubtitle_gt3"].output_vocab_size    = 20000 
confs["vaeattn-opensubtitle_gt3"].lr_check_steps       = 150 
confs["vaeattn-opensubtitle_gt3"].embedding_size       = 200 
confs["vaeattn-opensubtitle_gt3"].lr_keep_steps        = 80000  
confs["vaeattn-opensubtitle_gt3"].learning_rate        = 0.0001
confs["vaeattn-opensubtitle_gt3"].num_layers           = 3 
confs["vaeattn-opensubtitle_gt3"].learning_rate_decay_factor = 1.0 
confs["vaeattn-opensubtitle_gt3"].batch_size           = 64 
confs["vaeattn-opensubtitle_gt3"].cell_model           = "LSTMCell"
confs["vaeattn-opensubtitle_gt3"].data_dir             = "/search/odin/Nick/GenerateWorkshop/data/opensubtitle_gt3"
confs["vaeattn-opensubtitle_gt3"].embedding_init       = "/search/odin/Nick/GenerateWorkshop/data/opensubtitle_gt3/opensubtitle_filter2k.w2v.npy"
confs["vaeattn-opensubtitle_gt3"].addmem               = True 
confs["vaeattn-opensubtitle_gt3"].input_max_len        = 35
confs["vaeattn-opensubtitle_gt3"].output_max_len       = 35
confs["vaeattn-opensubtitle_gt3"].opt_name             = "Adam" 
confs["vaeattn-opensubtitle_gt3"].enc_latent_dim       = 256 
confs["vaeattn-opensubtitle_gt3"].lam                  = 0.0 
confs["vaeattn-opensubtitle_gt3"].beam_splits          = [8,8,8,8,8,8,8,8,8] 
confs["vaeattn-opensubtitle_gt3"].use_data_queue       = False
confs["vaeattn-opensubtitle_gt3"].stddev               = 1.0 
confs["vaeattn-opensubtitle_gt3"].kld_ratio            = 0.1 
confs["vaeattn-opensubtitle_gt3"].sample_prob          = 0.0 
confs["vaeattn-opensubtitle_gt3"].addmem               = False 


#########################################
confs["vae2-opensubtitle"] = copy.deepcopy(confs["vae"])
confs["vae2-opensubtitle"].model_kind           = "VAERNN2"
confs["vae2-opensubtitle"].input_vocab_size     = 30000
confs["vae2-opensubtitle"].output_vocab_size    = 30000 
confs["vae2-opensubtitle"].lr_check_steps       = 150 
confs["vae2-opensubtitle"].lr_keep_steps        = 80000  
confs["vae2-opensubtitle"].learning_rate        = 0.0001
confs["vae2-opensubtitle"].num_layers        	= 3 
confs["vae2-opensubtitle"].learning_rate_decay_factor = 1.0 
confs["vae2-opensubtitle"].batch_size           = 128 
confs["vae2-opensubtitle"].cell_model           = "LSTMCell"
#confs["vae2-opensubtitle"].embedding_init       = "/search/odin/Nick/GenerateWorkshop/data/WEIBO-2-downsample/weibo.w2v.npy" 
confs["vae2-opensubtitle"].data_dir             = "/search/odin/Nick/GenerateWorkshop/data/opensubtitle"
confs["vae2-opensubtitle"].addmem               = True 
confs["vae2-opensubtitle"].input_max_len        = 35
confs["vae2-opensubtitle"].output_max_len       = 35
confs["vae2-opensubtitle"].opt_name             = "Adam" 
#confs["vae2-opensubtitle"].opt_name             = "SGD" 
#confs["vae2-opensubtitle"].opt_name             = "COCOB" 
confs["vae2-opensubtitle"].enc_latent_dim       = 256 
confs["vae2-opensubtitle"].lam                  = 0.0 
confs["vae2-opensubtitle"].beam_splits          = [8,8,8,8,8,8,8,8,8] 
confs["vae2-opensubtitle"].use_data_queue       = False
confs["vae2-opensubtitle"].stddev               = 1.0 
confs["vae2-opensubtitle"].kld_ratio            = 1 
confs["vae2-opensubtitle"].sample_prob          = 1.0 

##########################################
confs["vae2-addmem-weibo"] = copy.deepcopy(confs["vae"])
confs["vae2-addmem-weibo"].model_kind           = "VAERNN2"
confs["vae2-addmem-weibo"].input_vocab_size     = 40000
confs["vae2-addmem-weibo"].output_vocab_size    = 40000
confs["vae2-addmem-weibo"].lr_check_steps       = 150 
confs["vae2-addmem-weibo"].lr_keep_steps        = 80000  
confs["vae2-addmem-weibo"].learning_rate        = 0.0001
confs["vae2-addmem-weibo"].learning_rate_decay_factor = 1.0 
confs["vae2-addmem-weibo"].batch_size           = 128 
confs["vae2-addmem-weibo"].cell_model           = "LSTMCell"
confs["vae2-addmem-weibo"].embedding_init       = "/search/odin/Nick/GenerateWorkshop/data/WEIBO-2-downsample/weibo.w2v.npy" 
confs["vae2-addmem-weibo"].data_dir             = "/search/odin/Nick/GenerateWorkshop/data/WEIBO-stc-all-clean"
confs["vae2-addmem-weibo"].input_max_len        = 35 
confs["vae2-addmem-weibo"].output_max_len       = 35 
confs["vae2-addmem-weibo"].opt_name             = "Adam" 
confs["vae2-addmem-weibo"].enc_latent_dim       = 1024 
confs["vae2-addmem-weibo"].lam                  = 0.0 
confs["vae2-addmem-weibo"].beam_splits          = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]#[4,4,4,4,4,4,4,4,4,4]#[8,8,8,8,8,8,8,8,8]#[6,6,6,6,6,6,6,6]#test[2,2,2,2,2,2,2,2] 
confs["vae2-addmem-weibo"].use_data_queue       = False
confs["vae2-addmem-weibo"].stddev               = 1.0 
confs["vae2-addmem-weibo"].addmem               = True 
confs["vae2-addmem-weibo"].kld_ratio            = 1 
confs["vae2-addmem-weibo"].sample_prob          = 0.5

######################################################################
confs["cvae-opensubtitle"] = copy.deepcopy(confs["vae"])
confs["cvae-opensubtitle"].model_kind           = "CVAERNN"
confs["cvae-opensubtitle"].input_vocab_size     = 30000
confs["cvae-opensubtitle"].output_vocab_size    = 30000
confs["cvae-opensubtitle"].lr_check_steps       = 150 
confs["cvae-opensubtitle"].lr_keep_steps        = 80000  
confs["cvae-opensubtitle"].learning_rate        = 0.0001
confs["cvae-opensubtitle"].learning_rate_decay_factor = 1.0 
confs["cvae-opensubtitle"].batch_size           = 128 
confs["cvae-opensubtitle"].cell_model           = "LSTMCell"
confs["cvae-opensubtitle"].data_dir             = "/search/odin/Nick/GenerateWorkshop/data/opensubtitle"
confs["cvae-opensubtitle"].input_max_len        = 35 
confs["cvae-opensubtitle"].output_max_len       = 35 
confs["cvae-opensubtitle"].opt_name             = "Adam" 
confs["cvae-opensubtitle"].enc_latent_dim       = 512 
confs["cvae-opensubtitle"].lam                  = 0.0 
confs["cvae-opensubtitle"].beam_splits          = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]#[4,4,4,4,4,4,4,4,4,4]#[8,8,8,8,8,8,8,8,8]#[6,6,6,6,6,6,6,6]#test[2,2,2,2,2,2,2,2] 
confs["cvae-opensubtitle"].use_data_queue       = False
confs["cvae-opensubtitle"].stddev               = 1.0 
confs["cvae-opensubtitle"].addmem               = True 
confs["cvae-opensubtitle"].kld_ratio            = 1.0 
confs["cvae-opensubtitle"].prior_type           = "mlp" 

confs["cvae-noattn-opensubtitle_gt3"] = copy.deepcopy(confs["vae"])
confs["cvae-noattn-opensubtitle_gt3"].model_kind           = "CVAERNN"
confs["cvae-noattn-opensubtitle_gt3"].input_vocab_size     = 20000
confs["cvae-noattn-opensubtitle_gt3"].output_vocab_size    = 20000
confs["cvae-noattn-opensubtitle_gt3"].lr_check_steps       = 150 
confs["cvae-noattn-opensubtitle_gt3"].lr_keep_steps        = 80000  
confs["cvae-noattn-opensubtitle_gt3"].embedding_size       = 200
confs["cvae-noattn-opensubtitle_gt3"].learning_rate        = 0.0001
confs["cvae-noattn-opensubtitle_gt3"].learning_rate_decay_factor = 1.0 
confs["cvae-noattn-opensubtitle_gt3"].batch_size           = 128 
confs["cvae-noattn-opensubtitle_gt3"].cell_model           = "LSTMCell"
confs["cvae-noattn-opensubtitle_gt3"].data_dir             = "/search/odin/Nick/GenerateWorkshop/data/opensubtitle_gt3"
confs["cvae-noattn-opensubtitle_gt3"].embedding_init       = "/search/odin/Nick/GenerateWorkshop/data/opensubtitle_gt3/opensubtitle_filter2k.w2v.npy"
confs["cvae-noattn-opensubtitle_gt3"].input_max_len        = 35 
confs["cvae-noattn-opensubtitle_gt3"].output_max_len       = 35 
confs["cvae-noattn-opensubtitle_gt3"].opt_name             = "Adam" 
confs["cvae-noattn-opensubtitle_gt3"].enc_latent_dim       = 256 
confs["cvae-noattn-opensubtitle_gt3"].lam                  = 0.0 
confs["cvae-noattn-opensubtitle_gt3"].beam_splits          = [6,6,6,6,6,6,6,6,6,6,6,6]#[4,4,4,4,4,4,4,4,4,4]#[8,8,8,8,8,8,8,8,8]#[6,6,6,6,6,6,6,6]#test[2,2,2,2,2,2,2,2] 
confs["cvae-noattn-opensubtitle_gt3"].use_data_queue       = False
confs["cvae-noattn-opensubtitle_gt3"].stddev               = 1.0 
confs["cvae-noattn-opensubtitle_gt3"].addmem               = False 
confs["cvae-noattn-opensubtitle_gt3"].kld_ratio            = 1.0 
confs["cvae-noattn-opensubtitle_gt3"].prior_type           = "mlp"
confs["cvae-noattn-opensubtitle_gt3"].attention            = None 


confs["cvae-noattn-64-opensubtitle_gt3"] = copy.deepcopy(confs["vae"])
confs["cvae-noattn-64-opensubtitle_gt3"].model_kind           = "CVAERNN"
confs["cvae-noattn-64-opensubtitle_gt3"].input_vocab_size     = 20000
confs["cvae-noattn-64-opensubtitle_gt3"].output_vocab_size    = 20000
confs["cvae-noattn-64-opensubtitle_gt3"].lr_check_steps       = 150 
confs["cvae-noattn-64-opensubtitle_gt3"].lr_keep_steps        = 80000  
confs["cvae-noattn-64-opensubtitle_gt3"].embedding_size       = 200
confs["cvae-noattn-64-opensubtitle_gt3"].learning_rate        = 0.0001
confs["cvae-noattn-64-opensubtitle_gt3"].learning_rate_decay_factor = 1.0 
confs["cvae-noattn-64-opensubtitle_gt3"].batch_size           = 128 
confs["cvae-noattn-64-opensubtitle_gt3"].cell_model           = "LSTMCell"
confs["cvae-noattn-64-opensubtitle_gt3"].data_dir             = "/search/odin/Nick/GenerateWorkshop/data/opensubtitle_gt3"
confs["cvae-noattn-64-opensubtitle_gt3"].embedding_init       = "/search/odin/Nick/GenerateWorkshop/data/opensubtitle_gt3/opensubtitle_filter2k.w2v.npy"
confs["cvae-noattn-64-opensubtitle_gt3"].input_max_len        = 35 
confs["cvae-noattn-64-opensubtitle_gt3"].output_max_len       = 35 
confs["cvae-noattn-64-opensubtitle_gt3"].opt_name             = "Adam" 
confs["cvae-noattn-64-opensubtitle_gt3"].enc_latent_dim       = 64 
confs["cvae-noattn-64-opensubtitle_gt3"].lam                  = 0.0 
confs["cvae-noattn-64-opensubtitle_gt3"].beam_splits          = [6,6,6,6,6,6,6,6,6,6,6,6]#[4,4,4,4,4,4,4,4,4,4]#[8,8,8,8,8,8,8,8,8]#[6,6,6,6,6,6,6,6]#test[2,2,2,2,2,2,2,2] 
confs["cvae-noattn-64-opensubtitle_gt3"].use_data_queue       = False
confs["cvae-noattn-64-opensubtitle_gt3"].stddev               = 1.0 
confs["cvae-noattn-64-opensubtitle_gt3"].addmem               = False 
confs["cvae-noattn-64-opensubtitle_gt3"].kld_ratio            = 1.0 
confs["cvae-noattn-64-opensubtitle_gt3"].prior_type           = "mlp"
confs["cvae-noattn-64-opensubtitle_gt3"].attention            = None 


#######################################
confs["vae-merge-stc-weibo"] = copy.deepcopy(confs["vae"])
confs["vae-merge-stc-weibo"].model_kind           = "VAERNN"
confs["vae-merge-stc-weibo"].input_vocab_size     = 40000
confs["vae-merge-stc-weibo"].output_vocab_size    = 40000
confs["vae-merge-stc-weibo"].lr_check_steps       = 150 
confs["vae-merge-stc-weibo"].lr_keep_steps        = 80000  
confs["vae-merge-stc-weibo"].learning_rate        = 0.00002
confs["vae-merge-stc-weibo"].learning_rate_decay_factor = 1.0 
confs["vae-merge-stc-weibo"].batch_size           = 128 
confs["vae-merge-stc-weibo"].cell_model           = "LSTMCell"
confs["vae-merge-stc-weibo"].embedding_init       = "/search/odin/Nick/GenerateWorkshop/data/WEIBO-2-downsample/weibo.w2v.npy" 
confs["vae-merge-stc-weibo"].data_dir             = "/search/odin/Nick/GenerateWorkshop/data/WEIBO-stc-all-clean"
confs["vae-merge-stc-weibo"].input_max_len        = 35 
confs["vae-merge-stc-weibo"].output_max_len       = 35 
confs["vae-merge-stc-weibo"].opt_name             = "Adam" 
confs["vae-merge-stc-weibo"].enc_latent_dim       = 1024 
confs["vae-merge-stc-weibo"].lam                  = 0.0 
confs["vae-merge-stc-weibo"].beam_splits          = [8,8,8,8,8,8,8,8,8] 
confs["vae-merge-stc-weibo"].use_data_queue       = False
confs["vae-merge-stc-weibo"].stddev               = 3.0 


confs["vae-reddit-addmem"] = copy.deepcopy(confs["vae"])
confs["vae-reddit-addmem"].model_kind           = "VAERNN"
confs["vae-reddit-addmem"].input_vocab_size     = 30000
confs["vae-reddit-addmem"].output_vocab_size    = 30000
confs["vae-reddit-addmem"].lr_check_steps       = 200 
confs["vae-reddit-addmem"].lr_keep_steps        = 80000  
confs["vae-reddit-addmem"].learning_rate        = 0.0001
confs["vae-reddit-addmem"].learning_rate_decay_factor = 1.0 
confs["vae-reddit-addmem"].batch_size           = 128 
confs["vae-reddit-addmem"].cell_model           = "GRUCell"

confs["vae-reddit-addmem"].embedding_size       = 200 
confs["vae-reddit-addmem"].embedding_init       = "/search/odin/Nick/GenerateWorkshop/data/SRT-reddit-proced-voca-filtered/pair_proced3_for_w2v.w2v.npy"
confs["vae-reddit-addmem"].data_dir             = "/search/odin/Nick/GenerateWorkshop/data/SRT-reddit-proced-voca-filtered"
confs["vae-reddit-addmem"].input_max_len        = 35 
confs["vae-reddit-addmem"].output_max_len       = 40 
confs["vae-reddit-addmem"].opt_name             = "Adam" 
confs["vae-reddit-addmem"].enc_latent_dim       = 1024 
confs["vae-reddit-addmem"].lam                  = 0.0 
confs["vae-reddit-addmem"].beam_splits          = [8,8,8,8,8,8,8,8,8] 
confs["vae-reddit-addmem"].use_data_queue       = False
confs["vae-reddit-addmem"].stddev               = 1.0 
confs["vae-reddit-addmem"].addmem               = True 


confs["vae-1024-attn-addmem"] = copy.deepcopy(confs["vae"])
confs["vae-1024-attn-addmem"].model_kind           = "VAERNN"
confs["vae-1024-attn-addmem"].input_vocab_size     = 40000
confs["vae-1024-attn-addmem"].output_vocab_size    = 40000
confs["vae-1024-attn-addmem"].lr_check_steps       = 150 
confs["vae-1024-attn-addmem"].lr_keep_steps        = 80000  
confs["vae-1024-attn-addmem"].learning_rate        = 0.0001
confs["vae-1024-attn-addmem"].learning_rate_decay_factor = 1.0 
confs["vae-1024-attn-addmem"].batch_size           = 128 
confs["vae-1024-attn-addmem"].cell_model           = "LSTMCell"
#confs["vae-1024-attn-addmem"].embedding_init       = "/search/odin/Nick/GenerateWorkshop/data/WEIBO-2-downsample/weibo.w2v.npy" 
confs["vae-1024-attn-addmem"].data_dir             = "/search/odin/Nick/GenerateWorkshop/data/WEIBO-stc-all-clean"
confs["vae-1024-attn-addmem"].input_max_len        = 35 
confs["vae-1024-attn-addmem"].output_max_len       = 35 
confs["vae-1024-attn-addmem"].opt_name             = "Adam" 
confs["vae-1024-attn-addmem"].enc_latent_dim       = 1024 
confs["vae-1024-attn-addmem"].lam                  = 0.0 
confs["vae-1024-attn-addmem"].beam_splits          = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]#[4,4,4,4,4,4,4,4,4,4]#[8,8,8,8,8,8,8,8,8]#[6,6,6,6,6,6,6,6]#test[2,2,2,2,2,2,2,2] 
confs["vae-1024-attn-addmem"].use_data_queue       = False
#confs["vae-1024-attn-addmem"].stddev               = 1.0 
confs["vae-1024-attn-addmem"].stddev               = 3.0 
confs["vae-1024-attn-addmem"].addmem               = True 

confs["vae2-1024-attn-addmem"] = copy.deepcopy(confs["vae"])
confs["vae2-1024-attn-addmem"].model_kind           = "VAERNN2"
confs["vae2-1024-attn-addmem"].input_vocab_size     = 40000
confs["vae2-1024-attn-addmem"].output_vocab_size    = 40000
confs["vae2-1024-attn-addmem"].lr_check_steps       = 150 
confs["vae2-1024-attn-addmem"].lr_keep_steps        = 80000  
confs["vae2-1024-attn-addmem"].learning_rate        = 0.0001
confs["vae2-1024-attn-addmem"].learning_rate_decay_factor = 1.0 
confs["vae2-1024-attn-addmem"].batch_size           = 64 
confs["vae2-1024-attn-addmem"].cell_model           = "LSTMCell"
confs["vae2-1024-attn-addmem"].embedding_init       = "/search/odin/Nick/GenerateWorkshop/data/WEIBO-2-downsample/weibo.w2v.npy" 
confs["vae2-1024-attn-addmem"].data_dir             = "/search/odin/Nick/GenerateWorkshop/data/WEIBO-stc-all-clean"
confs["vae2-1024-attn-addmem"].input_max_len        = 35 
confs["vae2-1024-attn-addmem"].output_max_len       = 35 
confs["vae2-1024-attn-addmem"].opt_name             = "Adam" 
confs["vae2-1024-attn-addmem"].enc_latent_dim       = 1024 
confs["vae2-1024-attn-addmem"].lam                  = 0.0 
confs["vae2-1024-attn-addmem"].beam_splits          = [6,6,6,6,6,6,6,6,6]#[4,4,4,4,4,4,4,4,4,4]#[8,8,8,8,8,8,8,8,8]#[6,6,6,6,6,6,6,6]#test[2,2,2,2,2,2,2,2] 
confs["vae2-1024-attn-addmem"].use_data_queue       = False
confs["vae2-1024-attn-addmem"].stddev               = 1.0 
confs["vae2-1024-attn-addmem"].kld_ratio            = 1.0 
#confs["vae2-1024-attn-addmem"].stddev              = 3.0 
confs["vae2-1024-attn-addmem"].addmem               = True 


confs["vae-bi-1024-attn-addmem-poem"] = copy.deepcopy(confs["vae"])
confs["vae-bi-1024-attn-addmem-poem"].model_kind           = "VAERNN"
confs["vae-bi-1024-attn-addmem-poem"].input_vocab_size     = 12000
confs["vae-bi-1024-attn-addmem-poem"].output_vocab_size    = 12000
confs["vae-bi-1024-attn-addmem-poem"].lr_check_steps       = 150 
confs["vae-bi-1024-attn-addmem-poem"].num_layers           = 2 
confs["vae-bi-1024-attn-addmem-poem"].lr_keep_steps        = 80000  
confs["vae-bi-1024-attn-addmem-poem"].batch_size           = 128 
confs["vae-bi-1024-attn-addmem-poem"].cell_model           = "GRUCell"
confs["vae-bi-1024-attn-addmem-poem"].data_dir             = "/search/odin/Nick/GenerateWorkshop/data/poem"
confs["vae-bi-1024-attn-addmem-poem"].input_max_len        = 10 
confs["vae-bi-1024-attn-addmem-poem"].output_max_len       = 10 
confs["vae-bi-1024-attn-addmem-poem"].opt_name             = "COCOB" 
confs["vae-bi-1024-attn-addmem-poem"].enc_latent_dim       = 1024 
confs["vae-bi-1024-attn-addmem-poem"].lam                  = 0.0 
confs["vae-bi-1024-attn-addmem-poem"].beam_splits          = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]#[4,4,4,4,4,4,4,4,4,4]#[8,8,8,8,8,8,8,8,8]#[6,6,6,6,6,6,6,6]#test[2,2,2,2,2,2,2,2] 

confs["vae-bi-1024-attn-addmem-poem"].use_data_queue       = False
confs["vae-bi-1024-attn-addmem-poem"].stddev               = 1.0 
confs["vae-bi-1024-attn-addmem-poem"].addmem               = True
confs["vae-bi-1024-attn-addmem-poem"].bidirectional        = True
